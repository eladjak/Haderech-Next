# מדריך לטיפול בבעיות לינט

מדריך זה מתאר את התהליכים והכלים שפיתחנו כדי לטפל בבעיות לינט נפוצות בפרויקט.

## סוגי בעיות לינט נפוצות

1. **סדר ייבוא לא תקין** - מוצג כ-`import/order` - הייבואים בקובץ צריכים להיות מסודרים לפי קטגוריות.
2. **משתנים שאינם בשימוש** - מוצג כ-`@typescript-eslint/no-unused-vars` - משתנים שהוגדרו אך אינם בשימוש.
3. **שגיאות טיפוסים** - מוצג כ-`typescript` - טיפוסים שאינם תואמים או חסרים.

## כלים אוטומטיים לתיקון בעיות

הפרויקט כולל מספר סקריפטים שעוזרים לתקן בעיות לינט באופן אוטומטי:

### תיקון משתנים שאינם בשימוש

הסקריפט `fix:unused-vars` מוסיף קו תחתון (`_`) לפני שמות משתנים שאינם בשימוש:

```bash
pnpm run fix:unused-vars
```

הסקריפט יחפש משתנים שאינם בשימוש בקבצים ויוסיף להם קו תחתון כדי למנוע שגיאות לינט.

### תיקון סדר ייבוא

הסקריפט `fix:import-order` מסדר מחדש את הייבואים בקבצים לפי הכללים:

```bash
pnpm run fix:import-order
```

הסקריפט יסדר את הייבואים לפי הקטגוריות:

1. ייבואים של ספריות Node.js
2. ייבואים של React ו-Next.js
3. ייבואים של ספריות צד שלישי
4. ייבואים מקומיים

### תיקון כל הבעיות

הפקודה `fix:all` מריצה את כל הסקריפטים לתיקון בעיות:

```bash
pnpm run fix:all
```

פקודה זו תריץ בסדר:

1. תיקון בעיות לינט עם `lint:fix`
2. תיקון סדר ייבוא עם `fix:import-order`
3. עיצוב הקוד עם `format:fix`

## כללים לטיפול ידני בבעיות

כאשר הכלים האוטומטיים אינם מספיקים, ניתן לטפל בבעיות באופן ידני:

### משתנים שאינם בשימוש

הוסף קו תחתון (`_`) לפני שם המשתנה:

```typescript
// לפני
function example(unusedVar: string) {
  return "Hello";
}

// אחרי
function example(_unusedVar: string) {
  return "Hello";
}
```

### סדר ייבוא

סדר הייבוא המומלץ הוא:

```typescript
// 1. ייבואים של Node.js
import path from "path";
import { TextDecoder, TextEncoder } from "util";
// 3. ייבואים של ספריות צד שלישי
import { zodResolver } from "@hookform/resolvers/zod";
import { format } from "date-fns";
// 2. ייבואים של React ו-Next.js
import React from "react";
import { useRouter } from "next/navigation";
// 4. ייבואים מקומיים
import { Button } from "@/components/ui/button";
import { createClient } from "@/lib/supabase";
```

## הוספת מניעת שגיאות לתהליך הפיתוח

מומלץ להריץ את סקריפט התיקון באופן קבוע, או להוסיף אותו לתהליך ה-Pre-commit:

```bash
# דוגמה ל-Git Hook
#!/bin/sh
pnpm run fix:all
```

## בעיות נפוצות ופתרונות

### בעיה: התנגשות טיפוסים באותו שם

פתרון: שנה את שם הטיפוס המקומי על ידי הוספת קידומת או סיומת:

```typescript
// במקום להגדיר ממשק User שמתנגש עם User מייבוא
interface LocalUser {
  // ...
}
```

### בעיה: ייבואים לא מזוהים נכון בסדר הייבוא

פתרון: בדוק את הגדרות ה-`import-order` בקובץ `.eslintrc` ועדכן את סדר העדיפויות.

## סיכום

שימוש נכון בכלים אלו יעזור לשמור על קוד נקי, מסודר וקל לתחזוקה. מומלץ להריץ את הסקריפטים לפני כל קומיט כדי למנוע בעיות לינט בעתיד.
