# 🚀 תהליך הפצה לייצור

## 📋 סקירה כללית

מסמך זה מתאר את תהליך ההפצה של פרויקט HaDerech לסביבת הייצור. הפרויקט מתארח על Vercel ומשתמש ב-Supabase כשירות Backend.

## 🔧 הגדרות סביבה

### משתני סביבה נדרשים

```env
NEXT_PUBLIC_APP_URL=
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
OPENAI_API_KEY=
NEXTAUTH_URL=
NEXTAUTH_SECRET=
```

### הגדרת משתני סביבה ב-Vercel

1. פתח את לוח הבקרה של Vercel
2. נווט ל-Project Settings > Environment Variables
3. הוסף את כל המשתנים הנדרשים
4. וודא הגדרת משתנים שונים לסביבות פיתוח/ייצור

## 🔄 תהליך CI/CD

### GitHub Actions

- בדיקות אוטומטיות מופעלות בכל push
- בדיקת טיפוסים TypeScript
- בדיקות יחידה ואינטגרציה
- בדיקת לינטינג ופורמט
- בדיקות נגישות
- בדיקות ביצועים

### Vercel Deployments

- הפצה אוטומטית בכל push למאסטר
- תצוגה מקדימה לכל PR
- ניטור ביצועים אוטומטי
- גיבוי אוטומטי

## ✅ רשימת תיוג לפני הפצה

1. **בדיקות מקדימות**

   - [ ] כל הבדיקות עוברות
   - [ ] אין שגיאות לינטינג
   - [ ] אין שגיאות טיפוסים
   - [ ] בדיקת ביצועים תקינה

2. **בדיקות אבטחה**

   - [ ] סריקת חולשות אבטחה
   - [ ] בדיקת הרשאות API
   - [ ] וידוא CORS תקין
   - [ ] בדיקת תוקף SSL

3. **בדיקות תוכן**

   - [ ] תרגומים מלאים
   - [ ] תקינות קישורים
   - [ ] תקינות תמונות
   - [ ] בדיקת נגישות

4. **בדיקות ביצועים**
   - [ ] ציון Lighthouse מעל 90
   - [ ] זמני טעינה תקינים
   - [ ] אופטימיזציה לתמונות
   - [ ] מטמון תקין

## 🔍 ניטור ובקרה

### כלי ניטור

- Vercel Analytics
- Sentry לניטור שגיאות
- Google Analytics
- LogRocket לניתוח התנהגות

### התראות

- התראות על שגיאות קריטיות
- התראות על חריגות ביצועים
- התראות על חריגות אבטחה

## 🔄 גלגול לאחור

### תהליך

1. זיהוי בעיה קריטית
2. החלטה על גלגול לאחור
3. הפעלת גרסה קודמת
4. ניטור והערכה

### שחזור מגיבוי

1. גישה לגיבויי Supabase
2. שחזור נתונים
3. בדיקת תקינות
4. החזרת המערכת לפעילות

## 📈 מדדי הצלחה

- זמן השבתה מינימלי
- זמן תגובה ממוצע
- שיעור שגיאות
- שביעות רצון משתמשים

## 🆘 תמיכה ופתרון בעיות

### צוות תמיכה

- מהנדס DevOps ראשי
- מפתח ראשי
- מנהל מוצר
- צוות תמיכת לקוחות

### תהליך אסקלציה

1. זיהוי בעיה
2. הערכת חומרה
3. הקצאת משאבים
4. פתרון ותיעוד

## 📚 מסמכים קשורים

- [תצורת Supabase](./SUPABASE_CONFIG.md)
- [תהליך הפצה מפורט](./DEPLOYMENT.md)
- [ארכיטקטורת המערכת](../technical/architecture/README.md)
