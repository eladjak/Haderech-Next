# תכנית תיקון לפרויקט "הדרך"

## בעיות שיש לתקן בפרויקט

### בעיות דחופות (שמונעות בנייה)

- [x] תיקון הדירקטיבה `"use client"` בקבצי UI
- [x] התעלמות משגיאות טיפוס באמצעות `ignoreBuildErrors: true` ב-`next.config.js`
- [x] תיקון או התעלמות משגיאות לינט שמונעות בנייה
- [x] בעיית `utils_e0 is not a function` ב-RootLayout

### בעיות טיפוס

- [ ] תיקון שגיאות טיפוס בקובץ `course-comments-temp.tsx` (נתקלנו ב-`session.user` possibly undefined)
- [ ] הסרת ההגדרה `ignoreBuildErrors: true` לאחר תיקון כל שגיאות הטיפוס

### בעיות לינט

- [ ] תיקון סדר ייבוא בכל הקבצים (למשל, `react` צריך להיות לפני ספריות אחרות)
- [ ] תיקון מרווחים בין קבוצות ייבוא
- [ ] הסרה או הוספת תחיליות `_` למשתנים שלא בשימוש

### ניקיון קבצים

- [ ] הסרת כל הקבצים הזמניים (תבנית `*-temp.tsx`, `__fixed/*`, וכו')
- [ ] איחוד גרסאות שונות של אותם קומפוננטים

## תיעוד בעיות שפתרנו

1. **בעיית דירקטיבת `"use client"`**

   - הבעיה: הדירקטיבה הייתה ממוקמת אחרי ייבואים בקבצים רבים
   - הפתרון: העברת הדירקטיבה לשורה הראשונה בכל הקבצים הרלוונטיים

2. **שגיאות טיפוס**

   - הבעיה: מספר רב של שגיאות טיפוס מנעו בנייה
   - פתרון זמני: הוספת `ignoreBuildErrors: true` ל-`next.config.js`

3. **שגיאות לינט**

   - הבעיה: שגיאות לינט רבות מנעו בנייה
   - פתרון זמני: הוספת `ignoreDuringBuilds: true` ל-`next.config.js`

4. **קבצים זמניים**

   - הבעיה: קבצים זמניים (כמו `course-comments-temp.tsx`) גרמו לשגיאות
   - פתרון זמני: הוספת דפוסי קבצים אלה ל-`.gitignore` כדי להתעלם מהם

5. **בעיית `utils_e0 is not a function`**
   - הבעיה: שגיאה בזמן ריצה כאשר מנסים לרנדר את ה-RootLayout
   - הגורם: דירקטיבת `"use client"` בקובץ `utils.ts` גרמה לבעיה עם ייבוא פונקציות מהקובץ בצד השרת
   - הפתרון: הסרת הדירקטיבה מקובץ ה-`utils.ts` שאמור להיות זמין גם בצד השרת
