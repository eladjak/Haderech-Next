# 📦 מדיניות ניהול גרסאות

## 📋 סקירה כללית

מסמך זה מגדיר את מדיניות ניהול הגרסאות בפרויקט HaDerech. אנו משתמשים במודל Semantic Versioning (SemVer) עם התאמות ייחודיות לפרויקט.

## 🔢 מבנה מספרי גרסה

### פורמט

```
MAJOR.MINOR.PATCH-STAGE.BUILD
```

### דוגמאות

- `1.0.0` - גרסת ייצור ראשונה
- `1.1.0` - הוספת תכונות חדשות
- `1.1.1` - תיקוני באגים
- `2.0.0-beta.1` - גרסת בטא ראשונה של גרסה 2.0.0

### הסבר המרכיבים

1. **MAJOR** - שינויים שוברי תאימות לאחור
2. **MINOR** - תכונות חדשות עם תאימות לאחור
3. **PATCH** - תיקוני באגים עם תאימות לאחור
4. **STAGE** - שלב הפיתוח (alpha/beta/rc)
5. **BUILD** - מספר הבנייה

## 🏷️ תגיות Git

### מבנה תגיות

- גרסאות ייצור: `v1.0.0`
- גרסאות בטא: `v1.0.0-beta.1`
- גרסאות RC: `v1.0.0-rc.1`

### דוגמאות לפקודות

```bash
# יצירת תגית חדשה
git tag -a v1.0.0 -m "גרסה 1.0.0"

# דחיפת תגית לשרת
git push origin v1.0.0

# מחיקת תגית
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0
```

## 📝 תהליך שחרור גרסה

### 1. הכנה

- [ ] עדכון מספר גרסה ב-`package.json`
- [ ] עדכון CHANGELOG.md
- [ ] בדיקת כל הטסטים
- [ ] בדיקת ביצועים
- [ ] סקירת קוד

### 2. יצירת גרסה

- [ ] מיזוג לענף `main`
- [ ] יצירת תגית Git
- [ ] בניית חבילה
- [ ] העלאה ל-npm (אם רלוונטי)

### 3. הפצה

- [ ] הפצה לסביבת Staging
- [ ] בדיקות קבלה
- [ ] הפצה לייצור
- [ ] ניטור

### 4. תיעוד

- [ ] עדכון תיעוד API
- [ ] עדכון מדריך למשתמש
- [ ] הודעה לצוות
- [ ] הודעה למשתמשים

## 📅 לוח זמנים

### גרסאות ראשיות (MAJOR)

- תדירות: כל 6-12 חודשים
- תכנון מראש: חודשיים
- בטא: חודש
- RC: שבועיים

### גרסאות משניות (MINOR)

- תדירות: כל 1-2 חודשים
- תכנון מראש: שבועיים
- בטא: שבוע
- RC: 3 ימים

### תיקונים (PATCH)

- תדירות: לפי הצורך
- זמן בדיקות: יום
- הפצה: מיידית (במקרה חירום)

## 🔄 ענפי Git

### ענפים קבועים

- `main` - קוד בייצור
- `develop` - קוד בפיתוח
- `staging` - קוד בבדיקות

### ענפי תכונות

- פורמט: `feature/JIRA-123-short-description`
- נוצר מ: `develop`
- מתמזג ל: `develop`

### ענפי תיקונים

- פורמט: `hotfix/JIRA-123-bug-description`
- נוצר מ: `main`
- מתמזג ל: `main` ו-`develop`

## 📊 ניהול תלויות

### עדכון תלויות

- בדיקה שבועית של עדכוני אבטחה
- בדיקה חודשית של עדכונים כלליים
- עדכון תלויות בכל גרסה משנית

### גרסאות תלויות

- Node.js: ^18.0.0
- React: ^18.0.0
- Next.js: ^14.0.0
- TypeScript: ^5.0.0

## 🔍 בקרת איכות

### בדיקות נדרשות

- Unit Tests: 90% כיסוי
- Integration Tests: כל תכונה חדשה
- E2E Tests: תרחישים קריטיים
- Performance Tests: מדדי ביצועים

### מדדי איכות

- Lighthouse Score: >90
- Bundle Size: <500KB
- Time to Interactive: <3s
- First Contentful Paint: <1s

## 📝 CHANGELOG

### מבנה

```markdown
# Changelog

## [Unreleased]

### Added

- תכונות חדשות

### Changed

- שינויים בתכונות קיימות

### Deprecated

- תכונות שיוסרו בעתיד

### Removed

- תכונות שהוסרו

### Fixed

- תיקוני באגים

### Security

- עדכוני אבטחה
```

## 🚨 תהליך חירום

### מקרי חירום

1. באגים קריטיים באבטחה
2. השבתת מערכת
3. איבוד נתונים

### תהליך תיקון

1. זיהוי והערכה
2. יצירת ענף hotfix
3. תיקון ובדיקה
4. הפצה מיידית
5. עדכון תיעוד

## 📚 מסמכים קשורים

- [תהליך פיתוח](../development/PROCESS.md)
- [מדריך תרומה](../contributing/CONTRIBUTING.md)
- [תהליך הפצה](../deployment/README.md)
